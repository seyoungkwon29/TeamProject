(function(){"use strict";var e={4188:function(e,t,n){var o=n(9242),s=n(3396),i=n(7139);const r={class:"app"},a={class:"app-sidebar"},l=(0,s._)("div",{class:"app-sidebar-section"},[(0,s._)("div",{class:"sidebar-header"},"프로젝트")],-1),c={class:"app-sidebar-section"},d=["checked"],u={class:"app-sidebar-section"},p=["onClick"],h={key:0,class:"todo-list"},m={class:"app-main"};function g(e,t,n,o,g,v){const f=(0,s.up)("FullCalendar");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",a,[l,(0,s._)("div",c,[(0,s._)("label",null,[(0,s._)("input",{type:"checkbox",checked:e.calendarOptions.weekends,onChange:t[0]||(t[0]=(...t)=>e.handleWeekendsToggle&&e.handleWeekendsToggle(...t))},null,40,d),(0,s.Uk)(" 주말 포함 ")])]),(0,s._)("div",u,[(0,s._)("h2",null,"프로젝트 관리 ("+(0,i.zw)(e.currentProject.length)+")",1),(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.currentProject,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,onClick:n=>{e.todoList(t),e.toggleTodo(t)}},[(0,s._)("span",null,(0,i.zw)(t.title),1),e.isTodoVisible?((0,s.wg)(),(0,s.iD)("div",h,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.currentTodo,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e.id},(0,i.zw)(e.title),1)))),128))])])):(0,s.kq)("",!0)],8,p)))),128))])])]),(0,s._)("div",m,[(0,s.Wm)(f,{class:"app-calendar",options:e.calendarOptions},{eventContent:(0,s.w5)((e=>[(0,s._)("span",null,(0,i.zw)(e.event.title),1)])),_:1},8,["options"])])])}n(7658);var v=n(2415),f=n(7127),_=n(3688),k=n(7079),b=n(8542),y=n(4161),w=(0,s.aZ)({components:{FullCalendar:v.Z},data(){return{selectedProject:[],currentProject:[],currentTodo:[],isTodoVisible:!1,key:"",calendarOptions:{plugins:[f.Z,_.Z,k.ZP,b.Z],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},initialView:"dayGridMonth",events:[],editable:!1,selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,select:this.handleDateSelect,eventClick:this.handleEventClick,eventsSet:this.setEvents}}},mounted(){this.checkInput()},methods:{checkInput(){console.log("checkInput"),document.getElementsByName("t_key").length>0&&document.getElementsByName("t_key")[0].value?(console.log(document.getElementsByName("t_key")[0].value),this.getTodo(document.getElementsByName("t_key")[0].value)):console.log("not found input")},getTodo(e){this.key=e,this.projectsList()},projectsList:function(){var e=this.currentProject;y.Z.get("http://localhost:8056/api/projectList?t_key="+this.key).then((t=>{console.log(">>>>>>> axios success",t.data),t.data.map((function(t){const n=new Date(t.start_date);n.setHours(0,0,0,0);const o=new Date(t.due_date);o.setHours(0,0,0,0),n.setDate(n.getDate()+1),o.setDate(o.getDate()+1),e.push({id:t.project_num,title:t.project_title,start:n.toISOString().split("T")[0],end:o.toISOString().split("T")[0],pm:t.project_manager,member_num:t.member_num})}))}),console.log("currentProject >>>>>>>",this.currentProject)).catch((e=>{console.log(e)}))},todoList(e){var t=this.currentTodo;this.selectedProject=e,console.log("selected project >>>>>>>",e),y.Z.post("http://localhost:8056/api/getAllTodoList",{project_num:e.id,t_key:this.key}).then((e=>{e.data.map((function(e){console.log("elemnet >>>>>>>>",e);const n=new Date(e.start_date);n.setHours(0,0,0,0);const o=new Date(e.due_date);o.setHours(0,0,0,0),n.setDate(n.getDate()+1),o.setDate(o.getDate()+1),t.push({id:e.todo_num,title:e.todo_title,start:n.toISOString().split("T")[0],end:o.toISOString().split("T")[0],member_name:e.member_name,content:e.content,member_num:e.member_num})}))}),console.log("currentTodo >>>>>>>",this.currentTodo)).catch((e=>{console.log(e)}))},toggleTodo(e){console.log("토글토글");var t=this.currentTodo;this.isTodoVisible=!this.isTodoVisible,this.isTodoVisible?this.currentTodo=[]:y.Z.post("http://localhost:8056/api/getAllTodoList",{project_num:e.id,t_key:this.key}).then((e=>{e.data.map((function(e){const n=new Date(e.start_date);n.setHours(0,0,0,0);const o=new Date(e.due_date);o.setHours(0,0,0,0),n.setDate(n.getDate()+1),o.setDate(o.getDate()+1),t.push({id:e.todo_num,title:e.todo_title,start:n.toISOString().split("T")[0],end:o.toISOString().split("T")[0],member_name:e.member_name,content:e.content,member_num:e.member_num})}))})).catch((e=>{console.log(e)}))},setEvents(){this.calendarOptions.events=this.currentTodo},handleWeekendsToggle(){this.calendarOptions.weekends=!this.calendarOptions.weekends},handleDateSelect(e){let t=prompt("일정 제목을 입력하세요"),n=e.view.calendar;n.unselect(),t&&n.addEvent({id:e.id,title:t,start:e.startStr,end:e.endStr,allDay:e.allDay})},handleEventClick(e){confirm(`'${e.event.title}' 일정을 삭제하시겠습니까?`)&&e.event.remove()}}}),T=n(89);const D=(0,T.Z)(w,[["render",g]]);var j=D;(0,o.ri)(j).mount("#app")}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,o,s,i){if(!o){var r=1/0;for(d=0;d<e.length;d++){o=e[d][0],s=e[d][1],i=e[d][2];for(var a=!0,l=0;l<o.length;l++)(!1&i||r>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(a=!1,i<r&&(r=i));if(a){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[o,s,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,i,r=o[0],a=o[1],l=o[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(s in a)n.o(a,s)&&(n.m[s]=a[s]);if(l)var d=l(n)}for(t&&t(o);c<r.length;c++)i=r[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},o=self["webpackChunkcalendar"]=self["webpackChunkcalendar"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(4188)}));o=n.O(o)})();
//# sourceMappingURL=app.6c44de07.js.map